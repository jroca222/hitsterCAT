// üß® Afegeix la llibreria de confeti
const script = document.createElement('script');
script.src = 'https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.min.js';
document.head.appendChild(script);

// üß† Dades dels anys
const anys = {
  1: 1991, 2: 1999, 3: 1991, 4: 1994, 5: 1991, 6: 1993, 7: 1990, 8: 1991, 9: 2010, 10: 1999,
  11: 1991, 12: 1994, 13: 1989, 14: 2012, 15: 2001, 16: 2007, 17: 2010, 18: 2006, 19: 1999, 20: 1991,
  21: 2001, 22: 2006, 23: 1988, 24: 1989, 25: 2009, 26: 1999, 27: 1991, 28: 1990, 29: 1991, 30: 2004,
  31: 1999, 32: 1991, 33: 2002, 34: 2014, 35: 2006, 36: 1991, 37: 1991, 38: 2008, 39: 1988, 40: 2010,
  41: 1998, 42: 2010, 43: 2000, 44: 2010, 45: 2010, 46: 2010, 47: 1993, 48: 2010, 49: 2010, 50: 1990,
  51: 2023, 52: 2010, 53: 2002, 54: 2003, 55: 2010, 56: 1994, 57: 1993, 58: 2010, 59: 1988, 60: 2010,
  61: 2021, 62: 1993, 63: 2012, 64: 2007, 65: 2018, 66: 2019, 67: 2011, 68: 2000, 69: 1979, 70: 2012,
  71: 2020, 72: 2013, 73: 2018, 74: 2021, 75: 2019, 76: 2011, 77: 2023, 78: 2024, 79: 2023, 80: 2022,
  81: 2024, 82: 2012, 83: 1998, 84: 2004, 85: 2020, 86: 2024, 87: 2013, 88: 2021, 89: 2022, 90: 2006,
  91: 1991, 92: 2002, 93: 1992, 94: 2018, 95: 1992, 96: 2007, 97: 1995, 98: 1991, 99: 1991, 100: 1997,
  101: 2012, 102: 2002, 103: 2017, 104: 2002, 105: 2019, 106: 2017, 107: 2019, 108: 2018, 109: 2018, 110: 2012,
  111: 2007, 112: 2011, 113: 1989, 114: 2009, 115: 1999, 116: 2021, 117: 2008, 118: 2013, 119: 2016, 120: 1989,
  121: 1994, 122: 2006, 123: 2021, 124: 2024, 125: 2009, 126: 2020, 127: 2024, 128: 2019, 129: 2002, 130: 2020,
  131: 1977, 132: 2008, 133: 1967, 134: 2010, 135: 2010, 136: 2020, 137: 2007, 138: 2017, 139: 2020, 140: 2017,
  141: 1975, 142: 2024, 143: 1980, 144: 1977, 145: 1977, 146: 1963, 147: 1968, 148: 1976, 149: 1972, 150: 1974,
  151: 1974, 152: 1982, 153: 1977, 154: 1971, 155: 2019, 156: 1978, 157: 1974, 158: 1970, 159: 1979, 160: 1984,
  161: 1994, 162: 2019, 163: 1990, 164: 1995, 165: 1991, 166: 1996, 167: 2009, 168: 1996, 169: 2013, 170: 2011,
  171: 1980, 172: 2009, 173: 1975, 174: 1976, 175: 2000, 176: 1973, 177: 2010, 178: 2013, 179: 2015, 180: 2023,
  181: 2021, 182: 2024, 183: 2023, 184: 2024, 185: 2024, 186: 2022, 187: 2024, 188: 2013, 189: 2009, 190: 1991,
  191: 1991, 192: 1997, 193: 1990, 194: 1992, 195: 2023, 196: 2016, 197: 2021, 198: 2018, 199: 2021, 200: 2025,
  201: 2017, 202: 1984, 203: 1974, 204: 1968, 205: 1986, 206: 2016, 207: 2023, 208: 2010, 209: 2009, 210: 2016,
  211: 1997, 212: 1970
};

// üîÅ Creem les caselles
const grid = document.getElementById('grid');
const clickSound = document.getElementById('clickSound');

for (let i = 1; i <= 212; i++) {
  const cell = document.createElement('div');
  cell.className = 'cell';
  cell.innerHTML = `<span class="number">${i}</span><div class="year"></div>`;

  let clickCount = 0;

  cell.addEventListener('click', () => {
    clickCount++;
    clickSound.play();

    if (clickCount === 1) {
      cell.classList.add('clicked-once');
    } else if (clickCount === 2) {
      cell.classList.remove('clicked-once');
      cell.classList.add('clicked-twice');

      const yearElement = cell.querySelector('.year');
      yearElement.textContent = anys[i]; // üìÖ mostra l'any correcte

      confetti({
        particleCount: 80,
        spread: 60,
        origin: { y: 0.6 }
      });
    }
  });

  grid.appendChild(cell);
}